; supervisor config file.
;
; http://supervisord.org/configuration.html

[unix_http_server]
file={{unix_http_server}}

[inet_http_server]
port={{inet_http_server}}

[supervisord]
minfds=1024                             ; (min. avail startup file descriptors;default 1024)
minprocs=200                            ; (min. avail process descriptors;default 200)
logfile_maxbytes=50MB                   ; (max main logfile bytes b4 rotation;default 50MB)
logfile_backups=10                      ; (num of main logfile rotation backups;default 10)
loglevel=info                           ; (log level;default info; others: debug,warn,trace)
logfile={{supervisord_logfile}}
pidfile={{supervisord_pidfile}}
strip_ansi=false
nocleanup=true

[rpcinterface:supervisor]
supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface

[supervisorctl]
history_file={{supervisorctl_history_file}}
serverurl={{supervisorctl_socker_serverurl}}


[program:devappserver-local]
command={{dev_appserver_command}}
environment=APP_ID="{{app_id}}",ENV_ID="{{env_id}}",VER_ID="{{ver_id}}"
directory=%(here)s
autostart=false
autorestart=true
startsecs=5
stdout_logfile={{stdout}}
redirect_stderr=true


[program:devappserver-integration]
command={command}
environment=APP_ID="{{app_id}}",ENV_ID="{{env_id}}",VER_ID="{{ver_id}}"
directory=%(here)s
autostart=false
autorestart=true
startsecs=5
redirect_stderr=true


[program:devappserver-test]
command=paver gae:server_run
environment=APP_ID="{{app_id}}",ENV_ID="{{env_id}}",VER_ID="{{ver_id}}"
directory=%(here)s
autostart=false
autorestart=true
startsecs=5
redirect_stderr=true
